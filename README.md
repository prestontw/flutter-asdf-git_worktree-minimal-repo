# git worktree and git hooks minimal reproducing repo

This was used to reproduce a strange case of pre-commit hooks failing to work.
The specific combination of features is `flutter`, `pre-commit`, and `git-worktree`.

Note: the issue is actually entirely within git. Using

```bash
#!/usr/bin/env bash
# File generated by pre-commit: https://pre-commit.com
# ID: 138fd403232d2ddd5efb44317e38bf03

# start templated
# exec flutter --version --verbose
(cd $HOME/development/flutter && git -c log.showSignature=false log -n 1 --pretty=format:%H)
```

we are able to do this entirely with git. Flutter is just an example of a project that is a git repo.
TODO: test this with another project that isn't a git repo.

## To reproduce:

- Check out this repository
- Install the hooks in this repo (`pre-commit install`)
- Verify that everything works by making a dummy change in the checked-out repo and committing. (If things fail, try committing again and see if that passes.)
- Make a git-worktree branch as a sibling of the main repo (`git worktree add ../pre-commit-in-worktree`) and `cd` there
- Make a dummy change and commit it---watch the pre-commit output and how it doesn't know which channel it is on:
